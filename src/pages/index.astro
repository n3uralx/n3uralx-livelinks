---
import Layout from "../layouts/Layout.astro";
import ProjectCard from "../components/ProjectCard.astro";
import data from "../data.json";
---

<Layout>
  <div class="bg-black-950 md:px-2">
    {
      data.upcoming.length > 0 && (
        <section id="upcoming" class="pt-8 rounded-2xl">
          <div class="container mx-auto px-4">
            <h2 class="text-2xl md:text-3xl font-semibold text-white mb-6">Upcoming</h2>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
              {data.upcoming.map((project) => (
                <div class="w-full">
                  <ProjectCard project={project} />
                </div>
              ))}
            </div>
          </div>
        </section>
      )
    }

    {
      data.current.length > 0 && (
        <section class="pt-8 rounded-2xl">
          <div class="container mx-auto px-4">
            <h2 class="text-2xl md:text-3xl font-semibold text-white mb-6">Currently</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
              {data.current.map((project) => (
                <div class="w-full">
                  <a href={`/session/${project.title.toLowerCase().replace(/\s+/g, "-")}`}>
                    <ProjectCard project={project} />
                  </a>
                </div>
              ))}
            </div>
          </div>
        </section>
      )
    }

    {
      data.past.length > 0 && (
        <section class="py-8 rounded-2xl">
          <div class="container mx-auto px-4">
            <h2 class="text-2xl md:text-3xl font-semibold text-white mb-6">Past</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
              {data.past.map((project) => (
                <div class="w-full">
                  <a href={`/session/${project.title.toLowerCase().replace(/\s+/g, "-")}`}>
                    <ProjectCard project={project} />
                  </a>
                </div>
              ))}
            </div>
          </div>
        </section>
      )
    }
  </div>
</Layout>
